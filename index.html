<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AVAX Nobs Points Tracker</title>
  <style>
    body {
      background-color: #000;
      color: #00ff66;
      font-family: "Courier New", monospace;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #00ff66;
      font-size: 2em;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00ff66;
    }

    #search {
      display: block;
      margin: 0 auto 30px;
      padding: 8px 12px;
      font-size: 1rem;
      font-family: "Courier New", monospace;
      border: 1px solid #00ff66;
      border-radius: 6px;
      background-color: #001900;
      color: #00ff66;
      width: 90%;
      max-width: 400px;
      outline: none;
    }

    #search::placeholder {
      color: #00aa55;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 1rem;
    }

    th, td {
      padding: 10px;
      border-bottom: 1px solid #00ff66;
      text-align: left;
    }

    th {
      color: #00ffaa;
      font-weight: bold;
      border-bottom: 2px solid #00ffaa;
    }

    tr:hover {
      background-color: rgba(0, 255, 100, 0.1);
    }

    .rank {
      width: 60px;
      color: #00ffaa;
    }

    .username {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #00ff99;
      font-weight: bold;
      position: relative;
    }

    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid #00ff66;
      background-color: rgba(0,255,102,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #00ff66;
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .points {
      color: #00ffcc;
      text-align: right;
    }

    .username a {
      color: #00ff99;
      text-decoration: none;
    }

    .username a:hover {
      text-decoration: underline;
      color: #00ffaa;
    }

    .popup {
      display: none;
      position: absolute;
      left: 50px;
      top: 5px;
      background-color: #001900;
      border: 1px solid #00ff66;
      padding: 5px 10px;
      font-size: 0.8rem;
      z-index: 10;
      border-radius: 6px;
      box-shadow: 0 0 10px #00ff66;
    }

    .username:hover .popup {
      display: block;
    }

    .terminal-blink::after {
      content: "█";
      animation: blink 1s infinite;
      color: #00ff66;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    @media (max-width: 600px) {
      th, td { font-size: 0.8rem; padding: 6px; }
      .avatar { width: 24px; height: 24px; }
    }
  </style>
</head>
<body>
  <h1>> AVAX Nobs Points Tracker<span class="terminal-blink"></span></h1>

  <input type="text" id="search" placeholder="Search handles...">

  <table id="leaderboard">
    <thead>
      <tr>
        <th>Rank</th>
        <th>Handle</th>
        <th>Points</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const data = [
      {"username": "excelballer", "total_points": 1000009.8101522783},
      {"username": "nobsfud", "total_points": 1000001.8101522783},
      {"username": "0xNeothon", "total_points": 112182.8101522783},
      {"username": "goldsmols", "total_points": 160946.8101522783},
      {"username": "BenAFFLEGG", "total_points": 112182.3898909907},
      {"username": "smolshidder", "total_points": 67052.3414120768},
      {"username": "StrongGalt", "total_points": 52464.5551082715},
      {"username": "pythonomics", "total_points": 49612.8640336193},
      {"username": "prettyjson", "total_points": 43369.9134958425},
      {"username": "cryptoguy559", "total_points": 43304.85721976485},
      {"username": "ChopperSats", "total_points": 42446.29236007895},
      {"username": "Mr_Mislothelees", "total_points": 40305.7610554536},
      {"username": "AMURLOC70658", "total_points": 38555.8110176861},
      {"username": "briischamp", "total_points": 38265.579485881},
      {"username": "AlexPancakesNFT", "total_points": 36751.09631274693},
      {"username": "0xAccess", "total_points": 32321.43859499844},
      {"username": "roti_dao", "total_points": 30927.64387491136},
      {"username": "iamaboffin", "total_points": 26477.96420274605},
      {"username": "_7_Principles", "total_points": 24780.91380267037},
      {"username": "CryptoGuy_777", "total_points": 21360.86868709812},
      {"username": "JrgenDeutschma1", "total_points": 20618.82262753995},
      {"username": "DanoManoNFT", "total_points": 18993.74126471006},
      {"username": "___Brainiac", "total_points": 17423.72681668293},
      {"username": "Ace0fTrades", "total_points": 16107.42307480756},
      {"username": "quietednights", "total_points": 15454.46876273843},
      {"username": "dukvik1", "total_points": 15211.33769026498},
      {"username": "vade2d051", "total_points": 14991.70130886},
      {"username": "ohhhhhYeeah", "total_points": 14892.51785021732},
      {"username": "DJ_RUSTBUCKET", "total_points": 14506.0253347529},
      {"username": "stogchog", "total_points": 14401.73301683975},
      {"username": "time2domoney", "total_points": 14097.70749968587},
      {"username": "nonamejames333", "total_points": 13781.15537991966},
      {"username": "Shwaver", "total_points": 13478.771999212}
    ];

    const leaderboard = data
      .map(d => ({ ...d, adjusted_points: d.total_points / 10 }))
      .sort((a, b) => b.adjusted_points - a.adjusted_points);

    const tbody = document.querySelector("#leaderboard tbody");
    const searchInput = document.querySelector("#search");

    function renderTable(filter = "") {
      tbody.innerHTML = "";
      leaderboard
        .filter(item => item.username.toLowerCase().includes(filter.toLowerCase()))
        .forEach((item, index) => {
          const initials = item.username.slice(0, 2).toUpperCase();
          const avatarUrl = `https://unavatar.io/twitter/${item.username}`;
          const twitterUrl = `https://twitter.com/${item.username}`;
          const displayPoints = item.adjusted_points.toLocaleString(undefined, { maximumFractionDigits: 0 });
          const row = document.createElement("tr");
          row.innerHTML = `
            <td class="rank">${index + 1}</td>
            <td class="username">
              <div class="avatar" style="background-image: url('${avatarUrl}'); background-size: cover;"
                   onerror="this.style.backgroundImage='none'; this.textContent='${initials}'"></div>
              <a href="${twitterUrl}" target="_blank">@${item.username}</a>
              <div class="popup">Open Twitter → @${item.username}</div>
            </td>
            <td class="points">${displayPoints}</td>
          `;
          tbody.appendChild(row);
        });
    }

    renderTable();

    searchInput.addEventListener("input", e => {
      renderTable(e.target.value);
    });
  </script>
</body>
</html>
